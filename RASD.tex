\documentclass[english]{article}

\usepackage{ae,aecompl}
\usepackage[T1]{fontenc}
\usepackage[latin9]{inputenc}
\usepackage{textcomp}
\usepackage{graphicx}
\usepackage{eurosym}
\usepackage[hidelinks]{hyperref}
\usepackage{float}
\usepackage{fancyhdr}
\pagestyle{fancy}
\lhead{PowerEnJoy RASD}

\newcommand{\carsharing}{\textit {car sharing }}
\newcommand{\powerenjoy}{\textit{PowerEnJoy }}
\newcommand{\registereduser}{\textit {registered user }}
\newcommand{\staff}{\textit{staff }}
\newcommand{\service}{\textit{service }}
\newcommand{\safearea}{\textit{safe area }}
\newcommand{\powergrid}{\textit{Power Grid }}
\newcommand{\resevation}{\textit{reservation }}
\newcommand{\stand}{\textit{stand }}
\newcommand{\rent}{\textit{rent }}
\usepackage{tabto}
\usepackage{verbatim}
\usepackage{etoolbox}

\begin{comment} some new commands and enviroments to painlessly handle requirements, goals and domain assumptions listing \end{comment}
\newenvironment{goals}
		{
			\newcounter{goalId}
			\newcommand{\goal}[1]{ 
				\stepcounter{goalId} 
				\hypertarget{G\arabic{goalId}}{
					\item[
						 G.\arabic{goalId}
					]{ ##1 }
				}
			}
			\begin{description}
		}
		{
			\end{description}
		}

\newenvironment{domainassumptions}
	{
		\newcounter{domainassumptionId}
		\newcommand{\domainassumption}[1]{ 
			\stepcounter{domainassumptionId} 
			\item[D.\arabic{domainassumptionId}]{##1}
			}
		\begin{description}
	}
	{
		\end{description}
	}

\newcounter{reqId}
\newenvironment{requirementsgroup}
		{
			\newcommand{\req}[1]{ 
				\stepcounter{reqId} 
				\hypertarget{R\arabic{reqId}}{
					\item[
						 R.\arabic{reqId}
					]{ ##1 }
				}
			}
			\begin{description}
		}
		{
			\end{description}
		}
\newcommand{\goalref}[1]{  \hyperlink{G#1}{G.#1} }
\newcommand{\reqref}[1]{  \hyperlink{R#1}{R.#1} }

\makeatletter
\usepackage{babel}


\makeatother

\usepackage{babel}
\begin{document}
\begin{figure}
	\centering
	\includegraphics[scale=0.5]{logo.pdf} 
\end{figure}


\title{PowerEnJoy\\
 Requirement Analysis and Specification Document\\
}

\date{A.A 2016/2017}

\author{Erba Alessandro\\
 Leveni Filippo\\
 Lodi Luca}

\maketitle
\pagebreak{}

\tableofcontents{} \pagebreak{}

\section{Introduction}
	\subsection{Purpose }
	
		The purpose of our team is to project PowerEnjoy, which is  a platform that will be used to manage a car sharing service 
  in the city area.\\
  The platform will allow clients to find and reserve an electric car using mobile app from their self phone, and it will also    manage the communication of the emergency situations to the proper staff.\\
  Furthermore, a particular PowerEnjoy feature is the application of certain discounts to its users.\\
  \tab \tab This document aims to describe the high-level functionalities that will be offered by PowerEnjoy service. The    RASD is intended to be viewed by the stakeholders, that will evaluate the correctness of any assumption and decision
  in this document.
  
 \subsection{Scope and Problem Description}
 
  The government of a large city would like to introduce an ecological way to travel within the city area. In particular,     uniform distribution of cars in the city is a significant target.\\
  \tab \tab The cars are electric as anticipated and inside them it is available an integrated interface. Through this interface   is possible to communicate with the system (e.g. to call emergency staff).\\
  \tab \tab Users can choose and reserve a car through a mobile app. The system answers to the request by showing the    time left to the expiration of the reservation.\\
  The staff is divided in three categories:\\
   - Field staff\\
   - Emergency staff\\
   - Management staff\\
  \tab \tab Field staff use the mobile application to inform the system about their availability and to confirm that they are    going to take care of a certain call (e.g. retrieve a broken car, move a vehicle with a low battery or to ensure the uniform    distribution in the city, etc...).\\
  \tab \tab Emergency staff use the mobile application to answer customers calls and to take care of special situations (e.g.    no money in the costumer's credit card, car accident, etc...).\\
  \tab \tab Management staff use the mobile application to handle the service (e.g. set the safe areas, fares, discounts,     etc...).\\
  \tab \tab The system guarantees a uniform distribution of cars in the city. In particular, the city is divided in       circumferences and sectors. The system automatically computes the distribution of available cars both in the areas     between the circumferences and in the sectors, based on the GPS information it receives from each car. Uniformity is     guaranteed by ensuring the same amount of available cars for each area between the circumferences and for each sector.   \\
  \tab \tab A user can take advantage of the "Money saving" option selecting it on the integrated interface in the car. After    that he/she can input his/her final destination and the system provides information about the station where to leave the    car to get a discount. This destination is determined to ensure the uniform distribution of cars and depends both     on the destination of the user and on the availability of power plugs at the selected station.
	
	\subsection{Goals}

	We have selected a list of objectives that we think \powerenjoy  has to reach:
	\begin{goals}
		
		\begin{comment} drivers for PowerEnjoy's success \end{comment}
		\goal{ To allow user to simply access to the \powerenjoy services. }
		\goal{ To guarantee an higher  probability of finding a car, compared to other car sharing services. }
		\goal{ To guarantee an efficient maintenance and recharge process of the cars, oriented to favourite their fairly distribution over the territory. }
		\begin{comment} user's goals \end{comment}
		\goal{ To allow users to make a reservation for a car in advance, and to cancel a reservation by its expiration time. }
		\goal{  To transparently charge the user for the service, minimizing its interaction with payment interfaces. }
		\goal{  To allow users to drive cars, minimizing their efforts for finding safe areas where to park.}
		\goal{ To encourage users' virtuous behaviour  in relation to service's fairness. }
		\begin{comment} service efficiency goals \end{comment}
		\goal{ To create a system that gives the possibility to be monitored and administrated by \powerenjoy's authorized personal. }
		\goal{  To empower the authorized personal in order to be able to quickly react to emergencies, potentially dangerous situations and users' requests for help, in best interest of users' safety.}
		\goal{ To create a system that provides a programmable interface, in order reduce the costs of further enhancements / maintenance to the system exploiting internal personal or third party developers.}
		
		% \goal{ . }

	\end{goals}

	\subsection{Domain Assumptions }

	We suppose that the following conditions hold in the analysed world:
	\begin{domainassumptions}

		\domainassumption{ The geographical area covered by the service is included in the coverage area of most common mobile communication technologies (3g, 4g) offered by main telecommunications companies. }

		\domainassumption{ Only correctly registered users can access the functionalities provided by the system. }
		\domainassumption{ Users will not park cars in position not covered by GPS signal (such as underground parking slots). }

		\domainassumption{ Cars are able to send diagnostic for the maintenance process in addition to real-time telemetry about speed and status of the battery.  }
		\domainassumption{ Cars can be selectively remotely locked, unlocked, powered on and powered off by authorized personal. }
		\domainassumption{ Cars periodically notify the system of their position, in case of accident / failure the notification process stops. }
		\domainassumption{ Cars are provided with an hand-free communication set that can be remotely activated. }

		\domainassumption{ Both user's and cars' GPS position can't be faked by any mean (e.g: GPS spoofing). }

		\domainassumption{ Each plug in charge stations is capable to be remotely  enabled/disabled for the charge of cars. }
		
		%\domainassumption{ . }

	\end{domainassumptions}

	\subsection{Glossary}
		\subsubsection{Car Sharing}
			\carsharing is a model of car rental where people rent cars for short periods of time, often by the hour.
		\subsubsection{PowerEnJoy}
			\powerenjoy is the \carsharing brand object of this document. 
		\subsubsection{Registered User}
			A \registereduser is a person subscribed to \powerenjoy which can access to the \carsharing through his smart-phone.
		\subsubsection{Staff}
			\staff is the set of people that are \registereduser but can perform special operations. They are divided in three different categories.
			\begin{itemize}
				\item {Field Staff}
				\begin{itemize}
				\item They own a passepartout for cars that has all kind of issues, for example they can menage cars with low battery.
				\end{itemize}
				\item{Emergency Staff}
				\begin{itemize}
				\item They manage users issues. They are available to communicate with users.
				\end{itemize}
				\item{Management Staff}
				\begin{itemize}
				\item They manage the system, for example they can change system parameters. They can add new \safearea, modify \carsharing prices.
				\end{itemize}
			\end{itemize}
		\subsubsection{Service}
			The \service is the group of actions that a \registereduser can fulfill trough the mobile.	
		\subsubsection {Safe Area}
			A \safearea is a  geographical place\footnote{defined by a set of GPS positions} on the map in which parking is allowed. \safearea are saved into the system. A \registereduser can end a \carsharing parking his car only in safe areas.
	\subsubsection{Power Grid}
		A \powergrid is the station that charge the battery of an electric car. All \powergrid are displayed in the map on-board \powerenjoy cars. Each \powergrid is in a \safearea. A \registereduser who plugs his car into a \powergrid receives the discount expected within \powerenjoy rules.
	\subsubsection{Reservation}
		A \resevation is the possibility that a \registereduser has to book a car at the latest for one hour.
	\subsubsection{Stand}
		A \stand is the possibility that a \registereduser has to pause his \carsharing. During a \stand the \registereduser can leave the car, than he can re-unlock it through his smart-phone.
	\subsubsection{Rent}
		A \rent is the set of actions that the user performs from the moment in which the system unlocks car to the moment in the car is released.
		

\subsection{Further Developments}
	We think that one of the most important things is to release a Service that can be extended and improved. It's trivial that a service like this must be able to be change and be updated.
	For this purpose we will develop a system open to new extensions. \\
	Here we provide a series of possible extensions that could be necessary in the future.
	E.g.:
	\begin{itemize}
		\item New kind of discount policies can be introduced to the system, for example discounts for new users. 
		\item New system policies may be necessary, for example new \carsharing conditions.
		\item New kind of vehicles can be introduced, for example electric scooter and electric bikes.
		\item Support to new payment methods, for example Paypal\textregistered, NFC\footnote{Near Field Communication; NFC devices are used in contactless payment systems, similar to those used in credit cards and electronic ticket smartcards and allow mobile payment to replace/supplement these systems. \href{https://en.wikipedia.org/wiki/Near_field_communication}{NFC on Wikipedia}}.
		\item Develop new services in order to increase the user experience, for example it may be useful to allow communication among users in order to share a car ride and save money.
	\end{itemize}
	\subsection{Used Tools}
	\begin{itemize}
		\item \LaTeX\\
		\item GitHub\\
		\item Astah\\
	\end{itemize}
\section{Specific Requirements}
	\subsection{Functional Requirements}
	
	\subsubsection{Guest users}
	The system must give guest users the possibility to:
	\begin{requirementsgroup}
		\req{ to register to the system by providing their credentials, payment information and required documents.
			\begin{itemize}
				\item{credentials must be unique among previously registered users }
				\item{documents and payment information must be verified in order to successfully create an account.}
			\end{itemize}
		 }
		\req{ to receive back password (for login) and pin code (to power on cars) in case off successful registration . }
	\end{requirementsgroup}	
	
	
	\subsubsection{Registered users}
	Registered users must be allowed to:
	\begin{requirementsgroup}
		\req{  to log-in as \powerenjoy users or field/emergency/management staff user. }
		\req{  to reset the password.}
		\req{  to modify account data. }
	\end{requirementsgroup}
	
	\subsubsection{ \powerenjoy users }
	They are registered users, so they are subject to the same requirements, moreover the system must guarantee them:
	\begin{requirementsgroup}
		 \req { to find the locations of available cars within a certain distance from their current location or from a specified address.
			\begin{itemize}
				\item{information are provided regarding the cars' estimated autonomy in kilometers }
			\end{itemize}
		 }
		 \req { to reserve a single car, among the available ones, for up to one hour before picking it up (by unlocking the car).}
		 \req { to cancel the reservation before it's expiration
			\begin{itemize}
				\item{paying a cost proportional to the reservation time }
				\item{the minimum amount is relative to a quarter of an hour}
			\end{itemize}
		}
		 \req { to be charged of a fee (1\euro) whether the reserved car is not picked\textendash up within one hour from the reservation.
			\begin{itemize}
				\item{the car must be tagged as available again }
				\item{the reservation expires}
			\end{itemize}
		 }

		 \req { to rent a car (reserved or available), specifically:
			\begin{itemize}
				\item { to unlock a reserved car when it is within a certain distance (threshold) from the car }
				\item { to be charged for a given amount of money per minute as soon as the car is unlocked. } 
			 	\item { to be notified of the current fare through a screen on the car. }
			 	\item { to stop being charged as soon as the car is parked in a safe area and he exits the car (that is automatically locked) }
			\end{itemize}
		}
		 
		 \req { to be excluded from the fruition of \powerenjoy services whether the payment is unable to complete, until all pending payment are performed.  }

		 \req { to be applied a discount of 10\% on the last ride, whether it brings at least two other passengers onto the car. }
		 \req { to be applied a discount of 20\% on the last ride, whether the car is left with more than 50\% of the battery's charge. }
		 \req { to be applied a discount of 30\% on the last ride, whether it takes care of plugging-in the car to the charge station. }
		 \req { to be applied an overcharge of 30\% on the last ride, whether the car is left farer than 3 KM from the nearest charge station or with less than 20\% of the battery's charge. }
		 \req { to enable the money saving option in order to get the discount described above [\reqref{14}], specifically:
			\begin{itemize}
				\item { to input a destination }
				\item { to be shown information about where to park the car (within 1km from entered destination) } 
			\end{itemize}
		}

		\req { to be notified of changes in the service policies
			\begin{itemize}
				\item { different fares }
				\item { updated terms of services } 
			\end{itemize}
		}
	\end{requirementsgroup}	

	\subsubsection{ Field staff users }
	They are registered users, so they are subject to the same requirements, moreover the system must help them:
	\begin{requirementsgroup}
		\req{ to be notified of relocation/maintenance requests for cars }
		\req{  to relocate an assigned car:
			\begin{itemize}
				\item{locate assigned car }
				\item{unlock assigned car}
				\item{check diagnostic of assigned car}
				\item{power on assigned car}
				\item{enable / disable power plugs}
				\item{lock assigned car}
				\item{locate maintenance facility}
			\end{itemize}
		 }
		\req{ to ask for special equipment (e.g: tow truck) or additional field staff help after evaluating the situation. }
	\end{requirementsgroup}

	\subsubsection{ Management staff users }
	They are registered users, so they are subject to the same requirements, moreover the system must empower them:
	\begin{requirementsgroup}
		 \req { to configure the list of available safe areas and power plugs over the service covered area. }
		 \req { to configure the list of cars available for the service }
		 \req { to configure service policies: 
			\begin{itemize}
				\item{update existing service's fares}
				\item{introducing new service's fares}
				\item{update discounts}
				\item{introducing new discounts}
				\item{update the terms of the service}
			\end{itemize}
		  }
		 \req { to manage personnel's accounts:
			\begin{itemize}
				\item{create}
				\item{delete}
				\item{modify}
			\end{itemize}
			for:
			\begin{itemize}
				\item{field staff user}
				\item{emergency staff user}
				\item{management staff user}
			\end{itemize}
		}
		 \req { to handle exceptional cases of unpaid rents:
			\begin{itemize}
				\item{check pending payment status.}
				\item{re-enable \powerenjoy users to the service.}
			\end{itemize}
		 }
	\end{requirementsgroup}

	\subsubsection{ Emergency staff users }
	They are registered users, so they are subject to the same requirements, moreover the system must empower them:
	\begin{requirementsgroup}
		\req{ to be promptly notified of potentially dangerous situations / emergencies: 
			\begin{itemize}
				\item{cars malfunctioning during a rent}
				\item{car accidents}
				\item{cars with empty battery not parked in safe areas}
			\end{itemize}
		 }
		\req{ to be promptly notified of \powerenjoy users' help request.  }
		\req{ to have an overview regarding the state and location of:
			\begin{itemize}
				\item{cars}
				\item{power plugs}
				\item{current rents}
				\item{reservation}
				\item{field staff users} 
			\end{itemize}
		}
		\req{ to perform actions to resolve issue:
			\begin{itemize}
				\item{cancel a \powerenjoy user's reservation}
				\item{recover a \powerenjoy user's pin code}
				\item{unlock / lock rented car}
				\item{set a car as available / unavailable }
				\item{speak with user on rented cars through installed hands-free communication set} 
				\item{assign a field staff user to relocate a car with priority}
				\item{notify appropriate authorities of a car accident (first-aid, fire-fighters, police, insurance company ...) }
			\end{itemize}
		 }
		\req { to dispatch the issue to administration staff users.}
		
	\end{requirementsgroup}

	\subsubsection{ Third party developers }
	The system should permit third party developers:
	\begin{requirementsgroup}
		\req{ to access all the functionalities of a \powerenjoy users through a set of public APIs (provided the user gave the consensus).}
		\req{ to register new \powerenjoy users through a set of public APIs. }
	\end{requirementsgroup}

	\subsection{Non Functional Requirements}

\section{Scenarios Identifying}
\section{UML Models And Use Cases}
	\subsection{Use Cases Diagram}
	\subsection{Actors Identifying}
	\subsection{Use Cases}

	\subsection{Class Diagram}
\section{External Interfaces}
\section{Alloy Model}
\section{Hours of Work}

\end{document}